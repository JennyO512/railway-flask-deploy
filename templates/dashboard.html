<!DOCTYPE html>
<html lang="en">
<head>
    <style type="text/css">.turbo-progress-bar {
      position: fixed;
      display: block;
      top: 0;
      left: 0;
      height: 3px;
      background: #0076ff;
      z-index: 2147483647;
      transition:
      width 300ms ease-out,
      opacity 150ms 150ms ease-in;
      transform: translate3d(0, 0, 0);
      }
      
    * {
    box-sizing: border-box;
    }
    
    img {
        max-width: 100%;
        height: auto;
        }
    .row:after {
  content: "";
  clear: both;
  display: table;
}

[class*="col-"] {
  float: left;
  padding: 15px;
  width: 100%;
}

@media only screen and (min-width: 600px) {
  .col-s-1 {width: 8.33%;}
  .col-s-2 {width: 16.66%;}
  .col-s-3 {width: 25%;}
  .col-s-4 {width: 33.33%;}
  .col-s-5 {width: 41.66%;}
  .col-s-6 {width: 50%;}
  .col-s-7 {width: 58.33%;}
  .col-s-8 {width: 66.66%;}
  .col-s-9 {width: 75%;}
  .col-s-10 {width: 83.33%;}
  .col-s-11 {width: 91.66%;}
  .col-s-12 {width: 100%;}
}

@media only screen and (min-width: 768px) {
  .col-1 {width: 8.33%;}
  .col-2 {width: 16.66%;}
  .col-3 {width: 25%;}
  .col-4 {width: 33.33%;}
  .col-5 {width: 41.66%;}
  .col-6 {width: 50%;}
  .col-7 {width: 58.33%;}
  .col-8 {width: 66.66%;}
  .col-9 {width: 75%;}
  .col-10 {width: 83.33%;}
  .col-11 {width: 91.66%;}
  .col-12 {width: 100%;}
}
  

    </style>

    <title>Dashboard - Account Dashboard</title>
    <meta name="description" content="Home Interior | Design On Demand">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta name="turbo:authenticated" content="true">


    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
        <link rel="stylesheet" href="/static/application-9aee6fc370ad0735fa57b3716443db63a17d820a370441d01f767a2b5ca9f999.css" data-turbo-track="reload">

        <!--dont remove this-->
    <script src="/assets/es-module-shims.min-c346276ff4a25707638039561b6d3bdddccedaca54f9aa5c24e1625404c36b6b.js" async="async" data-turbo-track="reload"></script>
    <script type="module">import "application"</script>

    <link data-turbo-track="reload" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
    <script data-turbo-track="reload" src="https://cdn.jsdelivr.net/npm/fabric">

    </script>
    <script data-turbo-track="reload" src="https://cdnjs.cloudflare.com/ajax/libs/dom-to-image/2.6.0/dom-to-image.min.js" integrity="sha512-01CJ9/g7e8cUmY0DFTMcUw/ikS799FHiOA0eyHsUWfOetgbx/t6oV4otQ5zXKQyIrQGTHSmRVPIgrgLcZi/WMA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script data-turbo-track="reload" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js" integrity="sha512-3j3VU6WC5rPQB4Ld1jnLV7Kd5xr+cq9avvhwqzbH/taCRNURoeEpoPBK9pDyeukwSxwRPJ8fDgvYXd6SkaZ2TA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <style type="text/css" id="tts-styles">
      [data-tts-block-id].tts-active {background: rgba(206, 225, 255, 0.9) !important;}
      [data-tts-sentence-id].tts-active {background: rgba(0, 89, 191, 0.7) !important;}
    </style>
  
  
      
      
  <script id="VisualSPOnlineHelpAppScript_jQuery" src="chrome-extension://ohdihpdgfenligmhnmldmiabdhflokkh/lib/jquery/jquery-1.10.2.min.js?Version=2023.5.25.1&amp;ExtVersion=2.0.53.0" async="" type="text/javascript"></script><link id="VisualSPOnlineHelpAppCSS_VisualSPCore" href="chrome-extension://ohdihpdgfenligmhnmldmiabdhflokkh/lib/host/css/visualsp-host-core.min.css?Version=2023.5.25.1&amp;ExtVersion=2.0.53.0" rel="stylesheet" type="text/css"><script id="VisualSPOnlineHelpAppScript_Main" src="chrome-extension://ohdihpdgfenligmhnmldmiabdhflokkh/js/VisualSPHost.js?Extension=Chrome&amp;Version=2023.5.25.1&amp;ExtVersion=2.0.53.0" async="" type="text/javascript"></script><script id="VisualSPOnlineHelpAppScript_VisualSPHostCore" src="chrome-extension://ohdihpdgfenligmhnmldmiabdhflokkh/lib/host/js/VisualSPHostCore.min.js?Version=2023.5.25.1&amp;ExtVersion=2.0.53.0" async="" type="text/javascript">  </script>
  

  
  </head>

  <body style="background-color: lightgrey;">

    <header>
        <!--navbar start-->
        <nav class="navbar navbar-light nav-site navbar-expand-md fixed-top navigation-clean">
          <div class="container position-relative">
          <a href="/">
          <img class="" style="width: 48px;padding-right: 10px;" src="/static/logo3.png">
          </a>
<a class="navbar-brand d-md-none d-lg-block fs-4 fancy-font" href="/" style="letter-spacing: 1px;" translate="no">Design<span class="text-primary">AI</span></a>
<button data-bs-toggle="collapse" class="navbar-toggler" data-bs-target="#navcol-1">
<span class="visually-hidden">Toggle navigation</span>
<span class="navbar-toggler-icon"></span>
</button>


          <div class="collapse navbar-collapse" id="navcol-1">
          <ul class="navbar-nav ms-auto">
          <li class="nav-item" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Home">
          <a class="nav-link text-uppercase " href="/">Home</a>
          </li>

          <li class="nav-item" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Blog">
          <a class="nav-link text-uppercase " href="/">Blog</a>
          </li>
          <li class="nav-item" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Sign up">
          <a class="nav-link text-uppercase active" href="/dashboard">Sign up</a>
          </li>
          <li class="nav-item" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Login">
            <a class="nav-link text-uppercase active" href="/dashboard">Login</a>
            </li>
            <li class="nav-item" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Logout">
              <a class="nav-link text-uppercase active" href="/dashboard">Logout</a>
              </li>
          </ul>
          </div>
          </div>
          </nav>
          <!--nav bar end-->
    </header>
    <!-- flash message -->
      
    <div>
<main>
 <div class="container">
   <form action="/dashboard" method="POST" enctype="multipart/form-data">
     <div class="steps-container">
         
                    <!-- Step 1: Choose an image -->
                    <div class="form-select">
                        <h3>Step 1: Choose an image</h3>
                        <label for="upload" style="padding:5px">Upload an image or take a picture:</label><br>
                        <input style="padding:14px;" type="file" id="fileInput" name="file" accept="image/*">
                        <br><br>

                        <button class="nav-link-primary" type="button" id="start">Take Picture</button>
                        <video style="display: none" id="video" autoplay="" playsinline=""></video>
                        <canvas style="display: none" id="canvas" width="640" height="480"></canvas>
                        <button class="nav-link-primary" style="display: none" type="button" id="capture"><i class="fa-solid fa-camera"></i></button>
                        <div class="img-container">
                            <input type="hidden" id="hiddenImageInput" name="hiddenImageInput">
                        </div>
                    </div>
<br>
<!-- create dropdown to choose room type -->
<!-- Step 2: Select room -->
<div class="step-container">
  <div class="form-select">
  <h3>Step 2: Choose your room</h3>
  <label style="padding:5px" for="room">What room is this?</label>
      <select class="w3-input w3-border" name="room" id="room">
        <option value="living room">Living Room</option>
        <option value="dining room">Dining Room</option>
        <option value="office">Office</option>
        <option value="bedroom">Bedroom</option>
        <option value="bathroom">Bathroom</option>        
        <option value="Salon">Salon</option>
        <option value="kitchen">Kitchen</option>
        <option value="basement">Basement</option>
        <option value="gaming room">Gaming Room</option>
        <option value="outdoor patio">Outdoor Patio</option>
      </select>

      <br>
    </div>

<br>
<!-- create dropdown to choose style -->
 <!-- Step 3: Select style -->
 <div class="step-container">
  <div class="form-select">
  <h3>Step 3: Choose your style</h3>
  <label style="padding:5px" for="room-style">What style would you like?</label>

      <select class="w3-input w3-border" name="room-style" id="room-style">
        <option value="modern">Modern</option>
        <option value="minimalist">Minimalist</option>
        <option value="professional">Professional</option>
        <option value="tropical">Tropical</option>
        <option value="vintage">Vintage</option>
        <option value="industrial">Industrial</option>
        <option value="neoclassic">Neoclassic</option>
      </select>
      <br>
    </div>
<br>

<!--beginning of updated code 5/21-->
<!-- Step 4: Submit -->
<div class="form-select">
    <h3>Step 4: Submit</h3>
    <button class="nav-link-primary" type="submit" id="submit">Submit</button>
    <br>
    <br>
    <h6 id="check-image-text" style="display: none">Click 'Retake Picture' to Take The Picture Again or 'Submit' To Proceed</h6>
    <br>

</div>



    <hr>
    <div class="steps-container">
        <div class="form-select">
            <div class="img-output-container" style="display: flex; justify-content: space-between;">
            <div>
            <h2 style="color: purple; padding:5px">Before</h2>
                <div>
                    <img style="padding:15px" src="https://replicate.delivery/pbxt/kjhLPxXfo2U9RqJ9jqqDFG4TgP9nfA5Vg3TjzqxYRS8p8lFRA/output_1.png" alt="before-img" width="500">
                </div>
            </div>
            
     <!--this is the middle section with user selections -->       
    <div class="col-6 col-s-9">
        <div style="padding:15px">
            <h3 style="margin-bottom: 10px">Your Picture</h3>
                <p><strong>Room Type:</strong> Kitchen</p>
                <p style="margin-top: -1.5%;"><strong>Style:</strong> Professional</p>
        </div>
    </div>
    
    
                <!--beginning of after pic-->
    <div>
        <h2>After</h2>
            <img style="padding:15px" src="{{ url_for('display_image', filename=original_image_name) }}" alt="after-img" width="500">
    </div>
    </div>
</div>
<div>
        <br>
        <p>DOWNLOAD LINK</p>
        <a href="https://replicate.delivery/pbxt/kjhLPxXfo2U9RqJ9jqqDFG4TgP9nfA5Vg3TjzqxYRS8p8lFRA/output_1.png" download="output_image.png" class="btn btn-secondary mt-2" target="_blank">Download Image</a>
        </div>
</div>
</div>
    

<!--end of updated code 5.21-->

  <!-- Step 4: Submit -->
  
              <!-- input to store the uploaded image data -->
          <div class="img-container">
<input type="hidden" id="hiddenImageInput" name="hiddenImageInput">
          </div>
          <br>
          <h6 id="check-image-text" style="display: none">Click 'Retake Picture' to Take The Picture Again or 'Submit' To Proceed</h6>
         

</div>
<br>

<!-- Credits Section -->

 <div style="display: flex">
  <p style="margin-right: auto">Credits Purchased: </p>
  <p style="margin-left: auto">Credits Remaining: </p>
</div> 
<div style="display: flex">
  <a style="margin-left: auto" href="/dashboard" class="btn btn-primary">Credits</a>
</div>
</div>

<hr>
<br>
</div></form>



 <!-- Contact Section -->
 <div style="display: flex">
 <div class="w3-container w3-padding-64" id="contact">
  <h1>Contact</h1><br>
  <p class="w3-text-blue-grey w3-large"><b>Created in Austin, Tx</b></p>
  <p>Feel free to contact by email designai@gmail.com, or you can send us a message here: <a href="mailto:designai%20Support<jennybenavides81@gmail.com>" class="link-footer">Contact</a></p>



</div>
</div>

<!-- End page content-->
</div>
<br>
<hr>

    </main>
    <script src="/static/dashboard.js"></script>
    <script>
    // Get access to the camera and display the video stream
    const startButton = document.getElementById('start');
    const video = document.getElementById('video');
    const canvas = document.getElementById('canvas');
    const captureButton = document.getElementById('capture');
    const hiddenImageInput = document.getElementById('hiddenImageInput');

    // Check if the browser supports getUserMedia
    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
        startButton.addEventListener('click', function() {
            // Request permission to access the camera
            navigator.mediaDevices.getUserMedia({ video: true })
                .then(function(stream) {
                    // Display the video stream in the video element
                    video.srcObject = stream;
                    video.style.display = 'block';
                    captureButton.style.display = 'block';
                    startButton.style.display = 'none';
                })
                .catch(function(error) {
                    console.error('Error accessing the camera:', error);
                });
        });

        captureButton.addEventListener('click', function() {
            // Capture the current video frame and convert it to an image
            canvas.getContext('2d').drawImage(video, 0, 0, canvas.width, canvas.height);
            const imageDataURL = canvas.toDataURL('image/png');

            // Set the captured image data in the hidden input field
            hiddenImageInput.value = imageDataURL;

            // Stop the video stream and hide the video element
            video.srcObject.getTracks().forEach(function(track) {
                track.stop();
            });
            video.style.display = 'none';
            captureButton.style.display = 'none';
            startButton.style.display = 'block';
        });
    } else {
        console.error('getUserMedia is not supported by this browser.');
    }
</script>
  
</div></body></html>
